<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Nova Runner</title>
        <link rel="stylesheet" href="./styles/main.css" />
        <link rel="shortcut icon" href="/assets/images/favicon.png" />
        <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
        <script src="./modules/three.min.js"></script>
        <script src="./modules/GLTFLoader.js"></script>
        <script src="./modules/physi.js"></script>
        <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
        <script type="module" src="./src/main.js"></script>
    </head>
    <body>
        <!---Overlays-->
        <div id="overlays" style="text-align: center;">
            <h1 id="scoreDisplay">Score: </h1>
            <div id="pauseBtn" class="pause-open" style="color: white" onclick="playButton(); pause()">pause</div> 
        </div>

        <!---Pause Menu-->
        <div id="pauseMenu" onclick="resume(); playButton()">
            <label style="color: antiquewhite; font-size: xxx-large; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);">Paused</label>
            <label style="color: antiquewhite; font-size: large; position: absolute; top: 50%; left: 50%; transform: translate(-50%,200%);"> click anywhere to resume</label>
        </div>

        <!---Game Over Menu-->
        <div id="gameOverMenu">
            <label style="color: antiquewhite; font-size: xxx-large; position: absolute; top: 30%; left: 50%; transform: translate(-50%,-50%);">Game Over</label>
            <a href="#" class="menu-open" style="font-size: xx-large; top: 46%; left: 30%; right: 50%;" onclick="playButtonWhoosh()">Main Menu</a>
            <label style="color: antiquewhite; font-size: x-large; position: absolute; top: 30%; left: 50%; transform: translate(-50%,200%);"> Score: 100</label>
            <label style="color: antiquewhite; font-size: x-large; position: absolute; top: 35%; left: 50%; transform: translate(-50%,200%);"> High Score: 1000</label>
            <a href="#" style="font-size: xx-large; top: 50%; left: 55%; right: 30%; position: fixed;" onclick="playButton()">Restart</a>
        </div>
        
        <!--Sounds-->
        <audio id="buttonSound" src="assets/music/sfx/buttonSound1.mp3"></audio>
        <audio id="buttonWhoosh" src="assets/music/sfx/buttonSoundWhoosh.mp3"></audio>


        <!---Menu Close Element-->
        <div  class="container"> 
         <div id="menuClose" class="menu-close">
            <div class="menu-close-img" onclick="playButtonWhoosh(); hideMenu()">
                <img src="assets/images/play-icon.png" alt="" />
                </div>
            </div>
            

            <!---White Page Divider-->
            <div id="hr" class="hr"></div>
            <!---Main Menu Container-->
            <div id="menuContainer" class="menu">
                <div class="menu-left">
                    <div class="menu-links">
                        <div class="menu-link" style="padding: 10px">
                            <a href="#" style="font-size: xxx-large" onclick="playButton(); howtoplay()">HOW TO PLAY</a>
                        </div>
                        <div class="menu-link" style="padding: 10px">
                            <a href="#" style="font-size: xxx-large" onclick="playButton(); leaderboards()">LEADERBOARDS</a>
                        </div>
                        <div class="menu-link" style="padding: 10px">
                            <a href="#" style="font-size: xxx-large" onclick="playButton(); credits()">CREDITS</a>
                        </div>
                        <div class="menu-link" style="padding: 10px">
                            <a href="#" style="font-size: xxx-large" onclick="playButton(); settings()">SETTINGS</a>
                        </div>
                    </div>
                </div>
                <div class="menu-right">
                    <img src="assets/images/logo.png" style="width: initial" />
                </div>



                <!-- How To Play menu -->
                <div id="howtoplay" style="display: none; text-align: center; padding: 20px;">
                    <label style="color: antiquewhite; font-size: xxx-large;"> How To Play</label>
                    <label style="color: antiquewhite; font-size: x-large; position: absolute; top: 20%; left: 50%; transform: translate(-50%,-50%);">Nova Runner is a game where you... run... obviously... as far as you can!</label>
                    <label style="color: antiquewhite; font-size: x-large; position: absolute; top: 30%; left: 50%; transform: translate(-50%,-50%);">Easy right? Nah lol, there's some things you're gonna have to avoid but don't worry, here's how:</label>
                    <label style="color: antiquewhite; font-size: xxx-large; position: absolute; top: 45%; left: 50%; transform: translate(-50%,-50%);">Controls:</label>
                    
                    <div style="position: absolute; top: 50%; justify-content: center; display: flex; align-items: center;">
                        <img src="/assets/images/w.png" style="width: 5%; height: 5%; margin-right: 20px;"><label style="color: antiquewhite; font-size: xxx-large;"> - JUMP</label>
                    </div>
                    <div style="position: absolute; top: 60%; justify-content: center; display: flex; align-items: center;">
                        <img src="/assets/images/a.png" style="width: 5%; height: 5%; margin-right: 20px;"><label style="color: antiquewhite; font-size: xxx-large;"> - MOVE LEFT</label>
                    </div>
                    <div style="position: absolute; top: 70%; justify-content: center; display: flex; align-items: center;">
                        <img src="/assets/images/d.png" style="width: 5%; height: 5%; margin-right: 20px;"><label style="color: antiquewhite; font-size: xxx-large;"> - MOVE RIGHT</label>
                    </div>
                    <div style="position: absolute; top: 80%; justify-content: center; display: flex; align-items: center;">
                        <img src="/assets/images/esc.png" style="width: 5%; height: 5%; margin-right: 20px;"><label style="color: antiquewhite; font-size: xxx-large;"> - PAUSE</label>
                    </div>

                    <a href="#" style="font-size: xxx-large; position: absolute; bottom: 0; left: 0; padding: 40px;" onclick="back(); playButton()">back</a>
                </div>


                <!-- Leaderboard menu -->
                <div id="leaderboards" style="display: none; text-align: center; padding: 20px;">
                    <label style="color: antiquewhite; font-size: xxx-large;"> leaderboards</label>
                    <a href="#" style="font-size: xxx-large; position: absolute; bottom: 0; left: 0; padding: 40px;" onclick="back(); playButton()">back</a>
                </div>

                <!-- Credits menu -->
                <div id="credits" style="display: none; text-align: center; padding: 20px;">
                    <label style="color: antiquewhite; font-size: xxx-large;"> credits</label>
                    <a href="#" style="font-size: xxx-large; position: absolute; bottom: 0; left: 0; padding: 40px;" onclick="back();playButton()">back</a>
                </div>

                <!-- Settings menu -->
                <div id="settings" style="display: none; text-align: center; padding: 20px;">
                    <label style="color: antiquewhite; font-size: xxx-large;"> settings</label>
                    <a href="#" style="font-size: xxx-large; position: absolute; bottom: 0; left: 0; padding: 40px;" onclick="back(); playButton()">back</a>
                </div>
                        
        </div> 
        
         

         <div id="scene-container"></div> 




        <script>

            tl = new TimelineMax({ paused: true })

            tl.to('.menu-left', 1, {
                left: 0,
                ease: Expo.easeInOut
            })

            tl.to(
                '.menu-right',
                1,
                {
                    right: 0,
                    ease: Expo.easeInOut
                },
                '-=1'
            )

            tl.staggerFrom(
                '.menu-links > div',
                0.8,
                {
                    y: 100,
                    opacity: 0,
                    ease: Expo.easeOut
                },
                '0.1',
                '-=0.4'
            )

            tl.staggerFrom(
                '.mail > div, .socials > div',
                0.8,
                {
                    y: 100,
                    opacity: 0,
                    ease: Expo.easeOut
                },
                '0.1',
                '-=1'
            )

            tl.from(
                '.menu-close',
                1,
                {
                    scale: 0,
                    opacity: 1,
                    ease: Expo.easeInOut
                },
                '-=1'
            )

            tl.to(
                '.hr',
                0.4,
                {
                    scaleY: 1,
                    transformOrigin: '0% 50%',
                    ease: Power2.ease
                },
                '-=2'
            )

            tl.reverse()

            $(document).ready(function () {
                tl.reversed(!tl.reversed())
                openMenu()
            })
            $(document).on('click', '.menu-open', function () {
                tl.reversed(!tl.reversed())
            })
            $(document).on('click', '.menu-close', function () {
                tl.reversed(!tl.reversed())
            })
        </script>

        <script>

            //Sound Effects
            function playButton() {
                var audio = document.getElementById('buttonSound')
                audio.play()
            }
            function playButtonWhoosh() {
                var audio = document.getElementById('buttonWhoosh')
                audio.play()
            }

            //Menu's
            function hideMenu() {
                var menu = document.getElementById('menuContainer')
                var overlays = document.getElementById('overlays')
                var scene = document.getElementById('scene-container')
                setTimeout(function () {
                    menu.style.display = 'none'
                    overlays.style.display = 'block'
                    scene.style.display = 'block'
                }, 2000)
            }
            function openMenu() {
                var menu = document.getElementById('menuContainer')
                var overlays = document.getElementById('overlays')
                var scene = document.getElementById('scene-container')
                
                menu.style.display = 'block'
                overlays.style.display = 'none'
                scene.style.position = 'initial'

            }
            function howtoplay(){
                document.getElementById("menuClose").style.display = 'none';
                document.getElementById("hr").style.display = 'none';
                document.getElementById("howtoplay").style.display = 'block';
            }
            function leaderboards(){
                document.getElementById("menuClose").style.display = 'none';
                document.getElementById("hr").style.display = 'none';
                document.getElementById("leaderboards").style.display = 'block';
            }
            function credits(){
                document.getElementById("menuClose").style.display = 'none';
                document.getElementById("hr").style.display = 'none';
                document.getElementById("credits").style.display = 'block';
            }
            function settings(){
                document.getElementById("menuClose").style.display = 'none';
                document.getElementById("hr").style.display = 'none';
                document.getElementById("settings").style.display = 'block';
            }
            function back(){
                document.getElementById("menuClose").style.display = 'block';
                document.getElementById("hr").style.display = 'block';
                document.getElementById("settings").style.display = 'none';
                document.getElementById("howtoplay").style.display = 'none';
                document.getElementById("credits").style.display = 'none';
                document.getElementById("leaderboards").style.display = 'none';

            }
            function pause(){
                document.getElementById("pauseMenu").style.display = 'block';
                
            }
            function resume(){
                document.getElementById("pauseMenu").style.display = 'none';
            }




            var score = 0;
            var scoreDisplay = document.getElementById('scoreDisplay');

            function incrementScore() {
                score += 1;
                scoreDisplay.innerText = "Score: " + score;
            }

            var increment = setInterval(incrementScore, 500);
            
            


        </script>
    </body>
</html>
